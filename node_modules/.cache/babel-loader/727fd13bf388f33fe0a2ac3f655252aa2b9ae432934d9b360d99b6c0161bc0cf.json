{"ast":null,"code":"import _slicedToArray from\"/home/workspace/reactjs/coding-practices/nxtWatchApp/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/home/workspace/reactjs/coding-practices/nxtWatchApp/node_modules/.pnpm/@babel+runtime@7.25.6/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{useState,useRef,useEffect,useContext}from'react';import MyContext from'../../context/MyContext';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var Categories=function Categories(){var _useContext=useContext(MyContext),updateCurrentDishList=_useContext.updateCurrentDishList,restaurantData=_useContext.restaurantData,updateCurrentDishCategory=_useContext.updateCurrentDishCategory;var idCount=0;var menuCategory=restaurantData.map(function(eachItem){idCount+=1;return{id:idCount,menuName:eachItem.menuCategory};});var items=_toConsumableArray(menuCategory);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentIndex=_useState2[0],setCurrentIndex=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showArrow=_useState4[0],setShowArrow=_useState4[1];var scrollContainerRef=useRef(null);useEffect(function(){updateCurrentDishCategory(restaurantData[0].menuCategoryId);updateCurrentDishList(restaurantData[0]);},[restaurantData,updateCurrentDishList]);useEffect(function(){updateCurrentDishCategory(restaurantData[currentIndex].menuCategoryId);updateCurrentDishList(restaurantData[currentIndex]);},[currentIndex,restaurantData,updateCurrentDishList]);useEffect(function(){var container=scrollContainerRef.current;var isSmallScreen=window.innerWidth<768;if(isSmallScreen){var itemWidth=container.clientWidth/2;container.style.transition='transform 0.3s ease-in-out';var translateX=-currentIndex*itemWidth;container.style.transform=\"translateX(\".concat(translateX,\"px)\");// Show or hide the arrow based on the current index\nif(currentIndex===items.length-1){setShowArrow(true);}else{setShowArrow(false);}}else{container.style.transform='none';setShowArrow(false);}},[currentIndex,items.length]);var handleClick=function handleClick(index){setCurrentIndex(index);};var scrollToFirst=function scrollToFirst(){setCurrentIndex(0);setShowArrow(false);// Hide the arrow after resetting\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"categories-container\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"categories-list\",ref:scrollContainerRef,children:items.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{className:\"categorie-item \".concat(index===currentIndex?'selected':''),children:/*#__PURE__*/_jsx(\"button\",{\"data-index\":index,onClick:function onClick(){return handleClick(index);},className:\"categorie-btn \".concat(index===currentIndex?'selected':''),type:\"button\",children:item.menuName})},item.id);})}),showArrow&&/*#__PURE__*/_jsx(\"button\",{className:\"scroll-to-first\",onClick:scrollToFirst,type:\"button\",children:\"\\u2190 \"})]});};export default Categories;","map":{"version":3,"names":["useState","useRef","useEffect","useContext","MyContext","jsx","_jsx","jsxs","_jsxs","Categories","_useContext","updateCurrentDishList","restaurantData","updateCurrentDishCategory","idCount","menuCategory","map","eachItem","id","menuName","items","_toConsumableArray","_useState","_useState2","_slicedToArray","currentIndex","setCurrentIndex","_useState3","_useState4","showArrow","setShowArrow","scrollContainerRef","menuCategoryId","container","current","isSmallScreen","window","innerWidth","itemWidth","clientWidth","style","transition","translateX","transform","concat","length","handleClick","index","scrollToFirst","className","children","ref","item","onClick","type"],"sources":["/home/workspace/reactjs/coding-practices/nxtWatchApp/src/components/Categories/index.js"],"sourcesContent":["import {useState, useRef, useEffect, useContext} from 'react'\nimport MyContext from '../../context/MyContext'\nimport './index.css'\n\nconst Categories = () => {\n  const {updateCurrentDishList, restaurantData, updateCurrentDishCategory} =\n    useContext(MyContext)\n\n  let idCount = 0\n  const menuCategory = restaurantData.map(eachItem => {\n    idCount += 1\n    return {id: idCount, menuName: eachItem.menuCategory}\n  })\n  const items = [...menuCategory]\n  const [currentIndex, setCurrentIndex] = useState(0)\n  const [showArrow, setShowArrow] = useState(false)\n  const scrollContainerRef = useRef(null)\n\n  useEffect(() => {\n    updateCurrentDishCategory(restaurantData[0].menuCategoryId)\n    updateCurrentDishList(restaurantData[0])\n  }, [restaurantData, updateCurrentDishList])\n\n  useEffect(() => {\n    updateCurrentDishCategory(restaurantData[currentIndex].menuCategoryId)\n    updateCurrentDishList(restaurantData[currentIndex])\n  }, [currentIndex, restaurantData, updateCurrentDishList])\n\n  useEffect(() => {\n    const container = scrollContainerRef.current\n    const isSmallScreen = window.innerWidth < 768\n\n    if (isSmallScreen) {\n      const itemWidth = container.clientWidth / 2\n      container.style.transition = 'transform 0.3s ease-in-out'\n\n      const translateX = -currentIndex * itemWidth\n      container.style.transform = `translateX(${translateX}px)`\n\n      // Show or hide the arrow based on the current index\n      if (currentIndex === items.length - 1) {\n        setShowArrow(true)\n      } else {\n        setShowArrow(false)\n      }\n    } else {\n      container.style.transform = 'none'\n      setShowArrow(false)\n    }\n  }, [currentIndex, items.length])\n\n  const handleClick = index => {\n    setCurrentIndex(index)\n  }\n\n  const scrollToFirst = () => {\n    setCurrentIndex(0)\n    setShowArrow(false) // Hide the arrow after resetting\n  }\n\n  return (\n    <div className=\"categories-container\">\n      <ul className=\"categories-list\" ref={scrollContainerRef}>\n        {items.map((item, index) => (\n          <li\n            key={item.id}\n            className={`categorie-item ${\n              index === currentIndex ? 'selected' : ''\n            }`}\n          >\n            <button\n              data-index={index}\n              onClick={() => handleClick(index)}\n              className={`categorie-btn ${\n                index === currentIndex ? 'selected' : ''\n              }`}\n              type=\"button\"\n            >\n              {item.menuName}\n            </button>\n          </li>\n        ))}\n      </ul>\n      {showArrow && (\n        <button\n          className=\"scroll-to-first\"\n          onClick={scrollToFirst}\n          type=\"button\"\n        >\n          &larr; {/* Left arrow symbol */}\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport default Categories\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}